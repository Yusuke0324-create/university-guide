{# templates/app_folder/campus_detail.html #}
{% extends 'base.html' %}
{% load static %}

{% block title %}{{ campus.name }} | {{ campus.university.name }}{% endblock %}

{% block contents %}
<div class="max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8">

    {# キャンパスのヘッダー情報 #}
    <div class="bg-white rounded-2xl shadow-lg p-8 mb-12">
        <h1 class="text-3xl font-bold text-gray-800 mb-2 text-center italic">{{ campus.name }}</h1>
        <p class="text-lg text-gray-600 text-center mb-6 italic">{{ campus.university.name }}</p>
        {% if campus.image %}
            <img src="{{ campus.image.url }}" alt="{{ campus.name }}" class="w-full h-64 object-cover rounded-lg shadow-md mx-auto max-w-lg">
        {% elif campus.university.image %}
             <img src="{{ campus.university.image.url }}" alt="{{ campus.university.name }}" class="w-full h-64 object-cover rounded-lg shadow-md mx-auto max-w-lg">
        {% endif %}
    </div>

    {# ブログ記事の一覧表示 #}
    <h2 class="text-2xl font-bold text-gray-800 mb-8 text-center">このキャンパスのブログ投稿</h2>
    <div class="space-y-8">
        {% for blog in blogs %}
        <article class="bg-white rounded-2xl shadow-lg overflow-hidden transition hover:shadow-2xl duration-300">
            <div class="p-6">
                <h3 class="text-xl font-semibold mb-2 text-gray-800">
                    <a href="{% url 'campus_guide:blog_post_detail' blog.pk %}" class="hover:text-indigo-600 transition duration-150">
                        {{ blog.title }}
                    </a>
                </h3>
                <div class="text-sm text-gray-500 mb-4">
                    
                </div>
                <div class="text-gray-700 prose max-w-none line-clamp-3">
                    {{ blog.content|safe }}
                </div>
            </div>
        </article>
        {% empty %}
        <div class="text-center text-gray-500 bg-white rounded-xl shadow-md p-8">
            <p>このキャンパスにはまだブログ投稿がありません。</p>
        </div>
        {% endfor %}
    </div>

    <div class="text-center mt-12">
        <a href="{% url 'campus_guide:university_detail' campus.university.pk %}" class="text-indigo-600 hover:text-indigo-800 font-semibold transition">
            &larr; {{ campus.university.name }}のキャンパス一覧に戻る
        </a>
    </div>

</div>
{% endblock %}